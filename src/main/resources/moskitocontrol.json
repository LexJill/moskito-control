{
  "mailNotificationEnabled" : false,
  "notificationsMutingTime": 60,
  "componentStatusTimeoutInSeconds": 300,
  "defaultView" : "FRONTEND",
  "enableAllView" : false,

  "@views": [
    {
      "name": "FRONTEND",
      "@componentCategories": ["stats","tools","web", "web_etl"],
      "@chartTags": ["frontend"],
      "@widgets": ["-"]
    },
    {
      "name": "BUSINESS",
      "@components": ["-"],
      "@charts": ["-"],
      "@widgets": []
    },
    {
      "name": "DOMAINS-DESKTOP",
      "@components": [],
      "@componentCategories": ["desktop", "desktop_etl"],
      "@charts": ["-"],
      "@chartTags": ["desktop_tcl","desktop_etl"],
      "@widgets": ["-"]
    },
    {
      "name": "DOMAINS-MOBILE",
      "@componentCategories": ["mobile", "mobile_etl"],
      "@charts": ["-"],
      "@chartTags": ["mobile_tcl","mobile_etl"],
      "@widgets": ["-"]
    },
    {
      "name": "BACKEND",
      "@componentCategories": ["service"],
      "@chartTags": ["backend"],
      "@widgets": ["-"]
    },
    {
      "name": "USE-CASE",
      "@componentCategories": ["use-case"],
      "@charts": ["-"],
      "@chartTags": ["use-case"],
      "@widgets": ["-"]
    }
  ],
  "@components": [

    {
      "name": "MobileLoginProfileView",
      "category": "use-case",
      "connectorType": "URL",
      "location": "https://mobile.thecasuallounge.ch/MobForeignProfile.html?st=B:D07BF1E7A05837CDA1E8239E5B0A6C97F33D03AD915D9B0164D4B81451910E240443E28778E82CB2779F826B017D97B6E8F1483C14B2FFE32366F2B75750BFF20C9E532A54AB2EB60CF96ED57C29E40138258A42F65836A4A745E27927FFE6C0CCEAAE00BB3A03D8DC213B502E069DCB0FD4CF43316B65CC14C99D3BDFFFBE3C&id=24b95cfa-bcdd-43bc-aef1-5569473f113c&loc=CH_FR&sets=1588863775241&type=27&act=bn",
      "tags": "use-case"
    },
    {
      "name": "MobileLoginWaitMessage",
      "category": "use-case",
      "connectorType": "URL",
      "location": "https://mobile.thecasuallounge.ch/MobMessages.html?st=B:E32FE6D50C7EC597DA251C7EC6DA1C4C56EAD16E4BA6F703D857266AF32904AB06A4F281BD77E5797E61D0E99A19F6EBEB8E64DB0BEE6BC31220A9C99502445EF796D601EF00BEC5847298F1C84412EA6CB1A4648FCC2661E4EB8135FAA3142AD6E585F2A7548076C577D291011712E3BDEEE4D8DCBAE7D5B7A144B0B06011E9&conversationId=6fd3dde7-1e97-43f9-94d0-08c8092e2f2b&loc=CH&sets=1590601657190&type=52&act=bn",
      "tags": "use-case"
    },
    {
      "name": "DesktopLoginProfile",
      "category": "use-case",
      "connectorType": "URL",
      "location": "https://www.thecasuallounge.ch/Interests.html?st=B:EA1AAEC2AC7C34E21D1A47827005ECE4C7C7964B7125ED00D857266AF32904AB06A4F281BD77E5797E61D0E99A19F6EBEB8E64DB0BEE6BC3B44F8744ED5A48FD3AD2BF1FD48BE8D50DD2D2E877E9767E2F38656F41C18D27C8F405FC191425DF724B8997A8087008C577D291011712E3BDEEE4D8DCBAE7D5B7A144B0B06011E9&u=1ffe7f0a-bf85-4235-b071-3362675f2cad&loc=CH&sets=1590593497346&type=23&act=bn",
      "tags": "use-case"
    },
    {
      "name": "DesktopLanding",
      "category": "use-case",
      "connectorType": "URL",
      "location": "https://www.thecasuallounge.ch/",
      "tags": "use-case"
    },
    {
      "name": "MobileLanding",
      "category": "use-case",
      "connectorType": "URL",
      "location": "https://mobile.thecasuallounge.ch/",
      "tags": "use-case"
    },
    {
      "name": "SEALanding",
      "category": "use-case",
      "connectorType": "URL",
      "location": "https://www.thecasuallounge.ch/landing/G+CH+Casuallounge+ZH",
      "tags": "use-case"
    },
    {
      "name": "DesktopLoginMessage",
      "category": "use-case",
      "connectorType": "URL",
      "location": "https://www.thecasuallounge.ch/Messaging.html?st=B:E32FE6D50C7EC597DA251C7EC6DA1C4C56EAD16E4BA6F703D857266AF32904AB06A4F281BD77E5797E61D0E99A19F6EBEB8E64DB0BEE6BC31220A9C99502445EF796D601EF00BEC5847298F1C84412EA6CB1A4648FCC2661E4EB8135FAA3142AD6E585F2A7548076C577D291011712E3BDEEE4D8DCBAE7D5B7A144B0B06011E9&partnerId=223ebd48-52da-4614-8e00-fdadecdc7463&loc=CH&sets=1590601657190&type=52&act=bn",
      "tags": "use-case"
    }
  ],
  "@actions": [
    {
      "name": "Restart",
      "type": "SSH",
      "command": "ssh lounge@10.110.7.16; cd /lounge/web/tomcat; ./bin/shutdown.sh -force; ./bin/startup.sh",
      "component": "DesktopLanding",
      "@parameters": [
        {
          "key": "param1",
          "value": "value1"
        },
        {
          "key": "param2",
          "value": "value2"
        }
      ]
    },
    {
      "name": "Start",
      "type": "SSH",
      "command": "ssh lounge@10.110.7.16; cd /lounge/web/tomcat; ./bin/startup.sh",
      "component": "DesktopLanding",
      "@parameters": [
        {
          "key": "param1",
          "value": "value1"
        },
        {
          "key": "param2",
          "value": "value2"
        }
      ]
    },
    {
      "name": "Stop",
      "type": "SSH",
      "command": "ssh lounge@10.110.7.16; cd /lounge/; touch test.txt",
      "component": "DesktopLanding",
      "@parameters": [
        {
          "key": "param1",
          "value": "value1"
        },
        {
          "key": "param2",
          "value": "value2"
        }
      ]
    }
  ],

  "@charts": [
    {
      "name": "Memory web01",
      "limit": 100,
      "tags": "frontend",
      "@lines": [
        {
          "component": "web01",
          "accumulator": "Mem OldGenFree MB 1m"
        },
        {
          "component": "web01",
          "accumulator": "Mem OldGenUsed MB 1m"
        },
        {
          "component": "web01",
          "accumulator": "Mem PermGenFree MB 1m"
        }
      ]
    },
    {
      "name": "Memory mobile01",
      "limit": 100,
      "tags": "frontend",
      "@lines": [
        {
          "component": "mobile01",
          "accumulator": "Mem OldGenFree MB 1m"
        },
        {
          "component": "mobile01",
          "accumulator": "Mem OldGenUsed MB 1m"
        },
        {
          "component": "mobile01",
          "accumulator": "Mem PermGenFree MB 1m"
        }
      ]
    },
    {
      "name": "Threads web01",
      "limit": 100,
      "tags": "frontend",
      "@lines": [
        {
          "component": "web01",
          "accumulator": "ThreadCount"
        },
        {
          "component": "web01",
          "accumulator": "ThreadStateBlocked-1m"
        },
        {
          "component": "web01",
          "accumulator": "ThreadStateRunnable-1m"
        },
        {
          "component": "web01",
          "accumulator": "ThreadStateTimedWaiting-1m"
        },
        {
          "component": "web01",
          "accumulator": "ThreadStateWaiting-1m"
        }
      ]
    },
    {
      "name": "Threads mobile01",
      "limit": 100,
      "tags": "frontend",
      "@lines": [
        {
          "component": "mobile01",
          "accumulator": "ThreadCount"
        },
        {
          "component": "mobile01",
          "accumulator": "ThreadStateBlocked-1m"
        },
        {
          "component": "mobile01",
          "accumulator": "ThreadStateRunnable-1m"
        },
        {
          "component": "mobile01",
          "accumulator": "ThreadStateTimedWaiting-1m"
        },
        {
          "component": "mobile01",
          "accumulator": "ThreadStateWaiting-1m"
        }
      ]
    },
    {
      "name": "URL REQ 1m",
      "limit": 100,
      "tags": "frontend",
      "@lines": [
        {
          "component": "web01",
          "accumulator": "URL REQ 1m"
        },
        {
          "component": "mobile01",
          "accumulator": "URL REQ 1m"
        }
      ]
    },
    {
      "name": "URL Time 1m",
      "limit": 100,
      "tags": "frontend",
      "@lines": [
        {
          "component": "web01",
          "accumulator": "URL Time 1m"
        },
        {
          "component": "mobile01",
          "accumulator": "URL Time 1m"
        }

      ]
    },
    {
      "name": "URL AVG 1m",
      "tags": "frontend",
      "limit": 100,
      "@lines": [
        {
          "component": "web01",
          "accumulator": "URL AVG 1m"
        },
        {
          "component": "mobile01",
          "accumulator": "URL AVG 1m"
        }
      ]
    },
    {
      "name": "SessionCount",
      "limit": 100,
      "tags": "frontend",
      "@lines": [
        {
          "component": "web01",
          "accumulator": "SessionCount Cur Absolute"
        },
        {
          "component": "mobile01",
          "accumulator": "SessionCount Cur Absolute"
        }
      ]
    },
    {
      "name": "CPU Time 1m",
      "limit": 100,
      "tags": "frontend",
      "@lines": [
        {
          "component": "web01",
          "accumulator": "CPU Time 1m"
        },
        {
          "component": "mobile01",
          "accumulator": "CPU Time 1m"
        },
        {
          "component": "solr01",
          "accumulator": "CPU Time 1m"
        },
        {
          "component": "solr02",
          "accumulator": "CPU Time 1m"
        },
        {
          "component": "stats",
          "accumulator": "CPU Time 1m"
        },
        {
          "component": "admin",
          "accumulator": "CPU Time 1m"
        }

      ]
    },
    {
      "name": "Process and System CPU Load 1m web01",
      "limit": 100,
      "tags": "frontend",
      "@lines": [
        {
          "component": "web01",
          "accumulator": "Process CPU Load 1m"
        },
        {
          "component": "web01",
          "accumulator": "System CPU Load 1m"
        }


      ]
    },
    {
      "name": "Process and System CPU Load 1m mobile01",
      "limit": 100,
      "tags": "frontend",
      "@lines": [
        {
          "component": "mobile01",
          "accumulator": "Process CPU Load 1m"
        },
        {
          "component": "mobile01",
          "accumulator": "System CPU Load 1m"
        }


      ]
    },
    {
      "name": "Process and System CPU Load 1m solr01",
      "tags": "frontend",
      "limit": 100,
      "@lines": [
        {
          "component": "solr01",
          "accumulator": "Process CPU Load 1m"
        },
        {
          "component": "solr01",
          "accumulator": "System CPU Load 1m"
        }
      ]
    },
    {
      "name": "Process and System CPU Load 1m solr02",
      "limit": 100,
      "tags": "frontend",
      "@lines": [
        {
          "component": "solr02",
          "accumulator": "Process CPU Load 1m"
        },
        {
          "component": "solr02",
          "accumulator": "System CPU Load 1m"
        }
      ]
    },
    {
      "name": "Process CPU Load 1m",
      "limit": 100,
      "tags": "frontend",
      "@lines": [
        {
          "component": "*",
          "accumulator": "Process CPU Load 1m",
          "componentTags": "frontend"
        }
      ]
    },
    {
      "name": "System CPU Load 1m",
      "limit": 100,
      "tags": "frontend",
      "@lines": [
        {
          "component": "*",
          "accumulator": "System CPU Load 1m",
          "componentTags": "frontend"
        }
      ]
    },
    //charts for backend
    {
      "name": "CPU Time 1m - NEW",
      "limit": 100,
      "tags": "backend",
      "@lines": [
        {
          "component": "*",
          "accumulator": "CPU Time 1m",
          "componentTags": "backend"
        }
      ]
    },
    {
      "name": "Errors Initial",
      "limit": 100,
      "tags": "backend",
      "@lines": [
        {
          "component": "*",
          "accumulator": "Errors.Cumulated.Initial",
          "componentTags": "backend"

        }
      ]
    },

    {
      "name": "MemFree 1MB",
      "limit": 100,
      "tags": "backend",
      "@lines": [
        {
          "component": "*",
          "accumulator": "Mem OldGenFree MB 1m",
          "componentTags": "backend"
        }
      ]
    },
    {
      "name": "MemUsed 1MB",
      "limit": 100,
      "tags": "backend",
      "@lines": [
        {
          "component": "*",
          "accumulator": "Mem OldGenUsed MB 1m",
          "componentTags": "backend"
        }
      ]
    },
    {
      "name": "GC Count",
      "limit": 100,
      "tags": "backend",
      "@lines": [
        {
          "component": "*",
          "accumulator": "GC PS MarkSweep collection count 1m",
          "componentTags": "backend"
        }
      ]
    },
    {
      "name": "GC Time",
      "limit": 100,
      "tags": "backend",
      "@lines": [
        {
          "component": "*",
          "accumulator": "GC PS MarkSweep collection time 1m",
          "componentTags": "backend"
        }
      ]
    },
    //Charts for URL Getter
    {
      "name": "Average Duration 1Minute (TCL)",
      "limit": 100,
      "tags": "mobile_tcl",
      "@lines": [
        {
          "component": "*",
          "accumulator": "AVG.1m",
          "componentTags": "mobile_tcl"
        }
      ]
    },
    {
      "name": "Average Duration 1H (TCL)",
      "limit": 100,
      "tags": "mobile_tcl",
      "@lines": [
        {
          "component": "*",
          "accumulator": "AVG.1h",
          "componentTags": "mobile_tcl"
        }
      ]
    },
    {
      "name": "Average Duration 1Minute (ETL)",
      "limit": 100,
      "tags": "mobile_tcl",
      "@lines": [
        {
          "component": "*",
          "accumulator": "AVG.1m",
          "componentTags": "mobile_etl"
        }
      ]
    },
    {
      "name": "Average Duration 1H (ETL)",
      "limit": 100,
      "tags": "mobile_tcl",
      "@lines": [
        {
          "component": "*",
          "accumulator": "AVG.1h",
          "componentTags": "mobile_etl"
        }
      ]
    },
    {
      "name": "Average Duration 1Minute (TCL)",
      "limit": 100,
      "tags": "desktop_tcl",
      "@lines": [
        {
          "component": "*",
          "accumulator": "AVG.1m",
          "componentTags": "desktop_tcl"
        }
      ]
    },
    {
      "name": "Average Duration 1H (TCL)",
      "limit": 100,
      "tags": "desktop_tcl",
      "@lines": [
        {
          "component": "*",
          "accumulator": "AVG.1h",
          "componentTags": "desktop_tcl"
        }
      ]
    },
    {
      "name": "Average Duration 1Minute (ETL)",
      "limit": 100,
      "tags": "desktop_etl",
      "@lines": [
        {
          "component": "*",
          "accumulator": "AVG.1m",
          "componentTags": "desktop_etl"
        }
      ]
    },
    {
      "name": "Average Duration 1H (ETL)",
      "limit": 100,
      "tags": "desktop_etl",
      "@lines": [
        {
          "component": "*",
          "accumulator": "AVG.1h",
          "componentTags": "desktop_etl"
        }
      ]
    },
    {
      "name": "Average Duration 1Minute",
      "limit": 100,
      "tags": "use-case",
      "@lines": [
        {
          "component": "*",
          "accumulator": "AVG.1m",
          "componentTags": "use-case"
        }
      ]
    },
    {
      "name": "Average Duration 1Hour",
      "limit": 100,
      "tags": "use-case",
      "@lines": [
        {
          "component": "*",
          "accumulator": "AVG.1h",
          "componentTags": "use-case"
        }
      ]
    }
  ],

  "@connectors": [
    {
      "type": "HTTP",
      "className": "org.moskito.control.connectors.HttpConnector"
    },
    {
      "type": "RMI",
      "className": "org.moskito.control.connectors.RMIConnector"
    },
    {
      "type": "JDBC",
      "className": "org.moskito.control.connectors.JDBCConnector"
    },
    {
      "type": "MONGO",
      "className": "org.moskito.control.connectors.MongoConnector"
    },
    {
      "type": "URL",
      "className": "org.moskito.control.connectors.HttpURLConnector"
    }


  ],

  "@statusUpdater": {
    "checkPeriodInSeconds": 10,
    "threadPoolSize": 100,
    "timeoutInSeconds": 60,
    "enabled": true
  },

  "@chartsUpdater": {
    "checkPeriodInSeconds": 40,
    "threadPoolSize": 30,
    "timeoutInSeconds": 60,
    "enabled": true
  },
  "@pluginsConfig":{
    "@plugins": [
      {
        "name" : "SlackNotificationPlugin",
        "configurationName" : "slack",
        "className" : "org.moskito.control.plugins.slack.SlackPlugin"
      },
      {
        "name" : "FileLogPlugin",
        "configurationName" : "tcl-prod-log",
        "className" : "org.moskito.control.plugins.logfile.StatusLogFilePlugin"
      }
    ]
  } ,
  "@dataprocessing": {

    "@retrievers":[
      {
        "name": "jsonpath",
        "configuration": "https://extapi.thecasuallounge.com/extapi/api/v1/data/paymentsPerDay",
        "@mappings": [
          {
            "variableName": "payments.count.today",
            "expression": "$.results.payments[0].locales.all.count"
          },
          {
            "variableName": "payments.count.sameYesterday",
            "expression": "$.results.payments[1].locales.all.count"
          },
          {
            "variableName": "payments.count.yesterday",
            "expression": "$.results.payments[2].locales.all.count"
          },
          {
            "variableName": "payments.count.sameDayWeekAgo",
            "expression": "$.results.payments[3].locales.all.count"
          },
          {
            "variableName": "payments.count.sameWeekAgo",
            "expression": "$.results.payments[4].locales.all.count"
          },
          {
            "variableName": "payments.revenue.today",
            "expression": "$.results.payments[0].locales.all.revenue"
          },
          {
            "variableName": "payments.revenue.sameYesterday",
            "expression": "$.results.payments[1].locales.all.revenue"
          },
          {
            "variableName": "payments.revenue.yesterday",
            "expression": "$.results.payments[2].locales.all.revenue"
          },
          {
            "variableName": "payments.revenue.sameDayWeekAgo",
            "expression": "$.results.payments[3].locales.all.revenue"
          },
          {
            "variableName": "payments.revenue.sameWeekAgo",
            "expression": "$.results.payments[4].locales.all.revenue"
          },
          //CH-DE
          {
            "variableName": "payments.count.today.CH_DE",
            "expression": "$.results.payments[0].locales.CH.count"
          },
          {
            "variableName": "payments.count.sameYesterday.CH_DE",
            "expression": "$.results.payments[1].locales.CH.count"
          },
          {
            "variableName": "payments.count.yesterday.CH_DE",
            "expression": "$.results.payments[2].locales.CH.count"
          },
          {
            "variableName": "payments.count.sameDayWeekAgo.CH_DE",
            "expression": "$.results.payments[3].locales.CH.count"
          },
          {
            "variableName": "payments.count.sameWeekAgo.CH_DE",
            "expression": "$.results.payments[4].locales.CH.count"
          },
          {
            "variableName": "payments.revenue.today.CH_DE",
            "expression": "$.results.payments[0].locales.CH.revenue"
          },
          {
            "variableName": "payments.revenue.sameYesterday.CH_DE",
            "expression": "$.results.payments[1].locales.CH.revenue"
          },
          {
            "variableName": "payments.revenue.yesterday.CH_DE",
            "expression": "$.results.payments[2].locales.CH.revenue"
          },
          {
            "variableName": "payments.revenue.sameDayWeekAgo.CH_DE",
            "expression": "$.results.payments[3].locales.CH.revenue"
          },
          {
            "variableName": "payments.revenue.sameWeekAgo.CH_DE",
            "expression": "$.results.payments[4].locales.CH.revenue"
          },
          //CH-FR
          {
            "variableName": "payments.count.today.CH_FR",
            "expression": "$.results.payments[0].locales.CH_FR.count"
          },
          {
            "variableName": "payments.count.sameYesterday.CH_FR",
            "expression": "$.results.payments[1].locales.CH_FR.count"
          },
          {
            "variableName": "payments.count.yesterday.CH_FR",
            "expression": "$.results.payments[2].locales.CH_FR.count"
          },
          {
            "variableName": "payments.count.sameDayWeekAgo.CH_FR",
            "expression": "$.results.payments[3].locales.CH_FR.count"
          },
          {
            "variableName": "payments.count.sameWeekAgo.CH_FR",
            "expression": "$.results.payments[4].locales.CH_FR.count"
          },
          {
            "variableName": "payments.revenue.today.CH_FR",
            "expression": "$.results.payments[0].locales.CH_FR.revenue"
          },
          {
            "variableName": "payments.revenue.sameYesterday.CH_FR",
            "expression": "$.results.payments[1].locales.CH_FR.revenue"
          },
          {
            "variableName": "payments.revenue.yesterday.CH_FR",
            "expression": "$.results.payments[2].locales.CH_FR.revenue"
          },
          {
            "variableName": "payments.revenue.sameDayWeekAgo.CH_FR",
            "expression": "$.results.payments[3].locales.CH_FR.revenue"
          },
          {
            "variableName": "payments.revenue.sameWeekAgo.CH_FR",
            "expression": "$.results.payments[4].locales.CH_FR.revenue"
          }



        ]
      },
      {
        "name": "jsonpath",
        "configuration": "https://api:key-3cd74d9fa9e7a6ca5560a018a7d11c4d@api.mailgun.net/v3/mg.thecasuallounge.ch/stats/total?event=delivered&event=accepted&event=failed&duration=1d",
        "@mappings": [
          {
            "variableName": "mailgun.1d.ch.accepted.total",
            "expression": "$.stats[0].accepted.total"
          },
          {
            "variableName": "mailgun.1d.ch.delivered.total",
            "expression": "$.stats[0].delivered.total"
          },
          {
            "variableName": "mailgun.1d.ch.failed.total",
            "expression": "$.stats[0].failed.permanent.total"
          }
        ]
      },
      {
        "name": "jsonpath",
        "configuration": "https://api:key-3cd74d9fa9e7a6ca5560a018a7d11c4d@api.mailgun.net/v3/mg.thecasuallounge.ch/stats/total?event=delivered&event=accepted&event=failed&duration=1h",
        "@mappings": [
          {
            "variableName": "mailgun.1h.ch.accepted.total",
            "expression": "$.stats[0].accepted.total"
          },
          {
            "variableName": "mailgun.1h.ch.delivered.total",
            "expression": "$.stats[0].delivered.total"
          },
          {
            "variableName": "mailgun.1h.ch.failed.total",
            "expression": "$.stats[0].failed.permanent.total"
          }
        ]
      },
      {
        "name": "jsonpath",
        "configuration": "https://api:key-3cd74d9fa9e7a6ca5560a018a7d11c4d@api.mailgun.net/v3/mg.thecasuallounge.at/stats/total?event=delivered&event=accepted&event=failed&duration=1d",
        "@mappings": [
          {
            "variableName": "mailgun.1d.at.accepted.total",
            "expression": "$.stats[0].accepted.total"
          },
          {
            "variableName": "mailgun.1d.at.delivered.total",
            "expression": "$.stats[0].delivered.total"
          },
          {
            "variableName": "mailgun.1d.at.failed.total",
            "expression": "$.stats[0].failed.permanent.total"
          }
        ]
      },
      {
        "name": "jsonpath",
        "configuration": "https://api:key-3cd74d9fa9e7a6ca5560a018a7d11c4d@api.mailgun.net/v3/mg.thecasuallounge.at/stats/total?event=delivered&event=accepted&event=failed&duration=1h",
        "@mappings": [
          {
            "variableName": "mailgun.1h.at.accepted.total",
            "expression": "$.stats[0].accepted.total"
          },
          {
            "variableName": "mailgun.1h.at.delivered.total",
            "expression": "$.stats[0].delivered.total"
          },
          {
            "variableName": "mailgun.1h.at.failed.total",
            "expression": "$.stats[0].failed.permanent.total"
          }
        ]
      },
      //mg-thecasuallounge.com     daily
      {
        "name": "jsonpath",
        "configuration": "https://api:key-3cd74d9fa9e7a6ca5560a018a7d11c4d@api.mailgun.net/v3/mg.thecasuallounge.com/stats/total?event=delivered&event=accepted&event=failed&duration=1d",
        "@mappings": [
          {
            "variableName": "mailgun.1d.com.accepted.total",
            "expression": "$.stats[0].accepted.total"
          },
          {
            "variableName": "mailgun.1d.com.delivered.total",
            "expression": "$.stats[0].delivered.total"
          },
          {
            "variableName": "mailgun.1d.com.failed.total",
            "expression": "$.stats[0].failed.permanent.total"
          }
        ]
      },
      //mg-thecasuallounge.com -hourly
      {
        "name": "jsonpath",
        "configuration": "https://api:key-3cd74d9fa9e7a6ca5560a018a7d11c4d@api.mailgun.net/v3/mg.thecasuallounge.com/stats/total?event=delivered&event=accepted&event=failed&duration=1h",
        "@mappings": [
          {
            "variableName": "mailgun.1h.com.accepted.total",
            "expression": "$.stats[0].accepted.total"
          },
          {
            "variableName": "mailgun.1h.com.delivered.total",
            "expression": "$.stats[0].delivered.total"
          },
          {
            "variableName": "mailgun.1h.com.failed.total",
            "expression": "$.stats[0].failed.permanent.total"
          }
        ]
      },

      {
        "name": "jsonpath",
        "configuration": "https://extapi.thecasuallounge.com/extapi/api/v1/data/registrationsPerDay",
        "@mappings": [
          {
            "variableName": "reg.total.today",
            "expression": "$.results.registrations[0].locales.all.count"
          },
          {
            "variableName": "reg.total.yesterday",
            "expression": "$.results.registrations[1].locales.all.count"
          },
          {
            "variableName": "reg.total.sameYesterday",
            "expression": "$.results.registrations[2].locales.all.count"
          },
          //same day week ago is the amount of the regs last week the whole day.
          {
            "variableName": "reg.total.sameDayWeekAgo",
            "expression": "$.results.registrations[3].locales.all.count"
          },
          //same week ago is the amount of the regs until now.
          {
            "variableName": "reg.total.sameWeekAgo",
            "expression": "$.results.registrations[4].locales.all.count"
          },
          {
            "variableName": "reg.male.today",
            "expression": "$.results.registrations[0].locales.all.male"
          },
          {
            "variableName": "reg.male.yesterday",
            "expression": "$.results.registrations[1].locales.all.male"
          },
          {
            "variableName": "reg.male.sameYesterday",
            "expression": "$.results.registrations[2].locales.all.male"
          },
          {
            "variableName": "reg.male.sameDayWeekAgo",
            "expression": "$.results.registrations[3].locales.all.male"
          },
          {
            "variableName": "reg.male.sameWeekAgo",
            "expression": "$.results.registrations[4].locales.all.male"
          },
          //CH
          {
            "variableName": "reg.total.today.CH_DE",
            "expression": "$.results.registrations[0].locales.CH.count"
          },
          {
            "variableName": "reg.total.yesterday.CH_DE",
            "expression": "$.results.registrations[1].locales.CH.count"
          },
          {
            "variableName": "reg.total.sameYesterday.CH_DE",
            "expression": "$.results.registrations[2].locales.CH.count"
          },
          {
            "variableName": "reg.total.sameDayWeekAgo.CH_DE",
            "expression": "$.results.registrations[3].locales.CH.count"
          },
          {
            "variableName": "reg.total.sameWeekAgo.CH_DE",
            "expression": "$.results.registrations[4].locales.CH.count"
          },
          {
            "variableName": "reg.male.today.CH_DE",
            "expression": "$.results.registrations[0].locales.CH.male"
          },
          {
            "variableName": "reg.male.yesterday.CH_DE",
            "expression": "$.results.registrations[1].locales.CH.male"
          },
          {
            "variableName": "reg.male.sameYesterday.CH_DE",
            "expression": "$.results.registrations[2].locales.CH.male"
          },
          {
            "variableName": "reg.male.sameDayWeekAgo.CH_DE",
            "expression": "$.results.registrations[3].locales.CH.male"
          },
          {
            "variableName": "reg.male.sameWeekAgo.CH_DE",
            "expression": "$.results.registrations[4].locales.CH.male"
          },
          //CH_FR
          {
            "variableName": "reg.total.today.CH_FR",
            "expression": "$.results.registrations[0].locales.CH_FR.count"
          },
          {
            "variableName": "reg.total.yesterday.CH_FR",
            "expression": "$.results.registrations[1].locales.CH_FR.count"
          },
          {
            "variableName": "reg.total.sameYesterday.CH_FR",
            "expression": "$.results.registrations[2].locales.CH_FR.count"
          },
          {
            "variableName": "reg.total.sameDayWeekAgo.CH_FR",
            "expression": "$.results.registrations[3].locales.CH_FR.count"
          },
          {
            "variableName": "reg.total.sameWeekAgo.CH_FR",
            "expression": "$.results.registrations[4].locales.CH_FR.count"
          },
          {
            "variableName": "reg.male.today.CH_FR",
            "expression": "$.results.registrations[0].locales.CH_FR.male"
          },
          {
            "variableName": "reg.male.yesterday.CH_FR",
            "expression": "$.results.registrations[1].locales.CH_FR.male"
          },
          {
            "variableName": "reg.male.sameYesterday.CH_FR",
            "expression": "$.results.registrations[2].locales.CH_FR.male"
          },
          {
            "variableName": "reg.male.sameDayWeekAgo.CH_FR",
            "expression": "$.results.registrations[3].locales.CH_FR.male"
          },
          {
            "variableName": "reg.male.sameWeekAgo.CH_FR",
            "expression": "$.results.registrations[4].locales.CH_FR.male"
          }


        ]
      }


    ],


    "@preprocessing" : [

    ],
    "@processing" : [
      "const hundred 100",
      "const constantRevenueGoal 10000",

      //sum for CH data
      "sum reg.total.today.CH reg.total.today.CH_FR,reg.total.today.CH_DE",
      "sum reg.total.yesterday.CH reg.total.yesterday.CH_FR,reg.total.yesterday.CH_DE",
      "sum reg.total.sameYesterday.CH reg.total.sameYesterday.CH_FR,reg.total.sameYesterday.CH_DE",
      "sum reg.total.sameDayWeekAgo.CH reg.total.sameDayWeekAgo.CH_FR,reg.total.sameDayWeekAgo.CH_DE",
      "sum reg.total.sameWeekAgo.CH reg.total.sameWeekAgo.CH_FR,reg.total.sameWeekAgo.CH_DE",
      "sum reg.male.today.CH reg.male.today.CH_FR,reg.male.today.CH_DE",
      "sum reg.male.yesterday.CH reg.male.yesterday.CH_FR,reg.male.yesterday.CH_DE",
      "sum reg.male.sameYesterday.CH reg.male.today.CH_FR,reg.male.sameYesterday.CH_DE",
      "sum reg.male.sameDayWeekAgo.CH reg.male.today.CH_FR,reg.male.sameDayWeekAgo.CH_DE",
      "sum reg.male.sameWeekAgo.CH reg.male.sameWeekAgo.CH_FR,reg.male.sameWeekAgo.CH_DE",

      "sum payments.count.today.CH payments.count.today.CH_FR,payments.count.today.CH_DE",
      "sum payments.count.yesterday.CH payments.count.yesterday.CH_FR,payments.count.yesterday.CH_DE",
      "sum payments.count.sameYesterday.CH payments.count.sameYesterday.CH_FR,payments.count.sameYesterday.CH_DE",
      "sum payments.count.sameDayWeekAgo.CH payments.count.sameDayWeekAgo.CH_FR,payments.count.sameDayWeekAgo.CH_DE",
      "sum payments.count.sameWeekAgo.CH payments.count.sameWeekAgo.CH_FR,payments.count.sameWeekAgo.CH_DE",
      "sum payments.revenue.today.CH payments.revenue.today.CH_FR,payments.revenue.today.CH_DE",
      "sum payments.revenue.yesterday.CH payments.revenue.yesterday.CH_FR,payments.revenue.yesterday.CH_DE",
      "sum payments.revenue.sameYesterday.CH payments.revenue.sameYesterday.CH_FR,payments.revenue.sameYesterday.CH_DE",
      "sum payments.revenue.sameDayWeekAgo.CH payments.revenue.sameDayWeekAgo.CH_FR,payments.revenue.sameDayWeekAgo.CH_DE",
      "sum payments.revenue.sameWeekAgo.CH payments.revenue.sameWeekAgo.CH_FR,payments.revenue.sameWeekAgo.CH_DE",

      //avg basket yesterday
      "div avgbasket.yesterday payments.revenue.yesterday,payments.count.yesterday",
      "mul avgbasket.yesterday avgbasket.yesterday,hundred",
      "int avgbasket.yesterday avgbasket.yesterday",
      "div avgbasket.yesterday avgbasket.yesterday,hundred",
      "addstring avgbasket.yesterday €",

      //avg basket week ago
      "div avgbasket.week payments.revenue.sameDayWeekAgo,payments.count.sameDayWeekAgo",
      "mul avgbasket.week avgbasket.week,hundred",
      "int avgbasket.week avgbasket.week",
      "div avgbasket.week avgbasket.week,hundred",
      "addstring avgbasket.week €",

      //avg basket today
      "div avgbasket.today payments.revenue.today,payments.count.today",
      "div avgbasket.sameYesterday payments.revenue.sameYesterday,payments.count.sameYesterday",
      "deviationPercent avgbasket.deviation avgbasket.today,avgbasket.sameYesterday",
      "sum avgbasket.change avgbasket.deviation",
      "mul avgbasket.today avgbasket.today,hundred",
      "int avgbasket.today avgbasket.today",
      "div avgbasket.today avgbasket.today,hundred",
      "addstring avgbasket.today €",
      "ifglz avgbasket.arrow avgbasket.deviation,arrow-up,arrow-down,circle",

      //avg basket today - CH
      "div avgbasket.today.CH payments.revenue.today.CH,payments.count.today.CH",
      "div avgbasket.sameYesterday.CH payments.revenue.sameYesterday.CH,payments.count.sameYesterday.CH",
      "deviationPercent avgbasket.deviation.CH avgbasket.today.CH,avgbasket.sameYesterday.CH",
      "sum avgbasket.change.CH avgbasket.deviation.CH",
      "mul avgbasket.today.CH avgbasket.today.CH,hundred",
      "int avgbasket.today.CH avgbasket.today.CH",
      "div avgbasket.today.CH avgbasket.today.CH,hundred",
      "addstring avgbasket.today.CH €",
      "ifglz avgbasket.arrow.CH avgbasket.deviation.CH,arrow-up,arrow-down,circle",

      "div paymentsrevenuetodayongoal payments.revenue.today,constantRevenueGoal",
      "int payments.revenue.today payments.revenue.today",

      "div paymentsrevenuetodayongoal.CH payments.revenue.today.CH,constantRevenueGoal",
      "int payments.revenue.today.CH payments.revenue.today.CH",

      "div paymentsrevenueweekagoongoal.weekAgo payments.revenue.sameDayWeekAgo,constantRevenueGoal",
      "int payments.revenue.sameDayWeekAgo payments.revenue.sameDayWeekAgo",
      "int payments.revenue.sameWeekAgo payments.revenue.sameWeekAgo",

      //checkouts today/yesterday change
      "deviationPercent payment.count.deviation payments.count.today,payments.count.sameYesterday",
      "sum payment.count.change payment.count.deviation",
      "ifglz payment.count.arrow payment.count.deviation,arrow-up,arrow-down,circle",
      "addstring payment.count.change %",

      //checkouts today/week change
      "deviationPercent payment.count.deviation.week payments.count.today,payments.count.sameWeekAgo",
      "sum payment.count.change.week payment.count.deviation.week",
      "ifglz payment.count.arrow.week payment.count.deviation.week,arrow-up,arrow-down,circle",
      "addstring payment.count.change.week %",

      //payment change today vs yesterday
      "deviationPercent payment.revenue.deviation payments.revenue.today,payments.revenue.sameYesterday",
      "sum payment.revenue.change payment.revenue.deviation",
      "ifglz payment.revenue.arrow payment.revenue.deviation,arrow-up,arrow-down,circle",
      "addstring payment.revenue.change %",

      //payment change today vs last weelk
      "deviationPercent payment.revenue.deviation.week payments.revenue.today,payments.revenue.sameWeekAgo",
      "sum payment.revenue.change.week payment.revenue.deviation.week",
      "ifglz payment.revenue.arrow.week payment.revenue.deviation.week,arrow-up,arrow-down,circle",
      "addstring payment.revenue.change.week %",
      "addstring payments.revenue.today €",

      //calculate change in regs yesterday/today
      "deviationPercent reg.total.deviation reg.total.today,reg.total.sameYesterday",
      "sum reg.total.change reg.total.deviation",
      "ifglz reg.total.arrow reg.total.deviation,arrow-up,arrow-down,circle",
      "addstring reg.total.change %",

      //calculate change in regs yesterday/week ago
      "deviationPercent reg.total.deviation.week reg.total.today,reg.total.sameWeekAgo",
      "sum reg.total.change.week reg.total.deviation.week",
      "ifglz reg.total.arrow.week reg.total.deviation.week,arrow-up,arrow-down,circle",
      "addstring reg.total.change.week %",

      //calculate male reg diviation today/yesterday
      "deviationPercent reg.male.deviation reg.male.today,reg.male.sameYesterday",
      "sum reg.male.change reg.male.deviation",
      "ifglz reg.male.arrow reg.male.deviation,arrow-up,arrow-down,circle",
      "addstring reg.male.change %",

      //calculate male reg diviation today/lastweek
      "deviationPercent reg.male.deviation.week reg.male.today,reg.male.sameWeekAgo",
      "sum reg.male.change.week reg.male.deviation.week",
      "ifglz reg.male.arrow.week reg.male.deviation.week,arrow-up,arrow-down,circle",
      "addstring reg.male.change.week %",

      //REGS CH
      //calculate change in regs yesterday/today
      "deviationPercent reg.total.deviation.CH reg.total.today.CH,reg.total.sameYesterday.CH",
      "sum reg.total.change.CH reg.total.deviation.CH",
      "ifglz reg.total.arrow.CH reg.total.deviation.CH,arrow-up,arrow-down,circle",
      "addstring reg.total.change.CH %",

      //calculate change in regs yesterday/week ago
      "deviationPercent reg.total.deviation.week.CH reg.total.today.CH,reg.total.sameWeekAgo.CH",
      "sum reg.total.change.week.CH reg.total.deviation.week.CH",
      "ifglz reg.total.arrow.week.CH reg.total.deviation.week.CH,arrow-up,arrow-down,circle",
      "addstring reg.total.change.week.CH %",

      //calculate male reg diviation today/yesterday
      "deviationPercent reg.male.deviation.CH reg.male.today.CH,reg.male.sameYesterday.CH",
      "sum reg.male.change.CH reg.male.deviation.CH",
      "ifglz reg.male.arrow.CH reg.male.deviation.CH,arrow-up,arrow-down,circle",
      "addstring reg.male.change.CH %",

      //calculate male reg diviation today/lastweek
      "deviationPercent reg.male.deviation.week.CH reg.male.today.CH,reg.male.sameWeekAgo.CH",
      "sum reg.male.change.week.CH reg.male.deviation.week.CH",
      "ifglz reg.male.arrow.week.CH reg.male.deviation.week,arrow-up,arrow-down,circle",
      "addstring reg.male.change.week.CH %",

      //reg2order
      "div reg2order payments.count.today,reg.male.today",
      "mul reg2order reg2order,hundred,hundred",
      "int reg2order reg2order",
      "div reg2order reg2order,hundred",
      "addstring reg2order %"



    ],

    "@widgets": [
      {
        "type": "NumberWithCompare",
        "caption": "Regs total today vs yesterday",
        "mapping": "number=reg.total.today, change=reg.total.change, arrow=reg.total.arrow"
      } ,
      {
        "type": "NumberWithCompare",
        "caption": "Regs total today vs last week",
        "mapping": "number=reg.total.change.week, change=reg.total.sameWeekAgo, arrow=reg.total.arrow.week"
      } ,
      {
        "type": "NumberWithCompare",
        "caption": "Regs male today vs yesterday",
        "mapping": "number=reg.male.today, change=reg.male.change, arrow=reg.male.arrow"
      } ,
      {
        "type": "NumberWithCompare",
        "caption": "Regs male today vs last week",
        "mapping": "number=reg.male.change.week, change=reg.male.sameWeekAgo, arrow=reg.male.arrow.week"
      } ,
      {
        "type": "NumberWithCompare",
        "caption": "CH Regs total today vs yesterday",
        "mapping": "number=reg.total.today.CH, change=reg.total.change.CH, arrow=reg.total.arrow.CH"
      } ,
      {
        "type": "NumberWithCompare",
        "caption": "CH Regs total today vs last week",
        "mapping": "number=reg.total.change.week.CH, change=reg.total.sameWeekAgo.CH, arrow=reg.total.arrow.week.CH"
      } ,
      {
        "type": "NumberWithCompare",
        "caption": "CH Regs male today vs yesterday",
        "mapping": "number=reg.male.today.CH, change=reg.male.change.CH, arrow=reg.male.arrow.CH"
      } ,
      {
        "type": "NumberWithCompare",
        "caption": "CH Regs male today vs last week",
        "mapping": "number=reg.male.change.week.CH, change=reg.male.sameWeekAgo.CH, arrow=reg.male.arrow.week.CH"
      } ,
      {
        "type": "NumberWithCompare",
        "caption": "Checkouts today vs yesterday",
        "mapping": "number=payments.count.today, change=payment.count.change, arrow=payment.count.arrow"
      } ,
      {
        "type": "NumberWithCompare",
        "caption": "Checkouts today vs last week",
        "mapping": "number=payment.count.change.week, change=payments.count.sameWeekAgo, arrow=payment.count.arrow.week"
      } ,
      {
        "type": "Number",
        "caption": "Reg2order",
        "mapping": "number=reg2order"
      } ,

      {
        "type": "NumberWithCompare",
        "caption": "Earnings today vs. yesterday",
        "mapping": "number=payments.revenue.today, change=payment.revenue.change, arrow=payment.revenue.arrow"
      } ,
      {
        "type": "NumberWithCompare",
        "caption": "Earnings today vs. weeak ago",
        "mapping": "number=payment.revenue.change.week, change=payments.revenue.sameWeekAgo, arrow=payment.revenue.arrow.week"
      } ,
      {
        "type": "HalfGauge",
        "caption": "Earnings on Goal",
        "mapping": "number=payments.revenue.today, percent=paymentsrevenuetodayongoal"
      },
      {
        "type": "HalfGauge",
        "caption": "Earnings on Goal CH",
        "mapping": "number=payments.revenue.today.CH, percent=paymentsrevenuetodayongoal.CH"
      },
      {
        "type": "HalfGauge",
        "caption": "Earnings on Goal last week",
        "mapping": "number=payments.revenue.sameDayWeekAgo, percent=paymentsrevenueweekagoongoal.weekAgo"
      },
      {
        "type": "NumberWithCompare",
        "caption": "Average Basket",
        "mapping": "number=avgbasket.today, change=avgbasket.change, arrow=avgbasket.arrow"
      } ,
      {
        "type": "NumberWithCompare",
        "caption": "Average Basket CH",
        "mapping": "number=avgbasket.today.CH, change=avgbasket.change.CH, arrow=avgbasket.arrow.CH"
      } ,
      {
        "type": "Number",
        "caption": "Average Basket Yesterday",
        "mapping": "number=avgbasket.yesterday"
      },
      {
        "type": "Number",
        "caption": "Average Basket Week ago",
        "mapping": "number=avgbasket.week"
      },
      //mails
      {
        "type": "Number",
        "caption": "COM delivered last 1h",
        "mapping": "number=mailgun.1h.com.delivered.total"
      },
      {
        "type": "Number",
        "caption": "COM failed last 1h",
        "mapping": "number=mailgun.1h.com.failed.total"
      },
      {
        "type": "Number",
        "caption": "COM delivered last day",
        "mapping": "number=mailgun.1d.com.delivered.total"
      },
      {
        "type": "Number",
        "caption": "COM failed last day",
        "mapping": "number=mailgun.1d.com.failed.total"
      },
      {
        "type": "Number",
        "caption": "CH delivered last 1h",
        "mapping": "number=mailgun.1h.ch.delivered.total"
      },
      {
        "type": "Number",
        "caption": "CH failed last 1h",
        "mapping": "number=mailgun.1h.ch.failed.total"
      },
      {
        "type": "Number",
        "caption": "CH delivered last day",
        "mapping": "number=mailgun.1d.ch.delivered.total"
      },
      {
        "type": "Number",
        "caption": "CH failed last day",
        "mapping": "number=mailgun.1d.ch.failed.total"
      },
      {
        "type": "Number",
        "caption": "AT delivered last 1h",
        "mapping": "number=mailgun.1h.at.delivered.total"
      },
      {
        "type": "Number",
        "caption": "AT failed last 1h",
        "mapping": "number=mailgun.1h.at.failed.total"
      },
      {
        "type": "Number",
        "caption": "AT delivered last day",
        "mapping": "number=mailgun.1d.at.delivered.total"
      },
      {
        "type": "Number",
        "caption": "AT failed last day",
        "mapping": "number=mailgun.1d.at.failed.total"
      }





    ]

  }

}
